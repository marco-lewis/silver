def deutsch(f : B !-> lifted B){
  x := 0:B;
  x := H(x);
  if (f(x)) { phase(pi); }
  x := H(x);
  x := measure(x);
  return x;
}