# SilVer [In Development/Unstable]

Development of the SilVer tool for verifying Silq programs using the Z3 SMT solver.

## File Navigation

`Silq Programs/` - folder containing a number of programs written in Silq

`silspeq/` - SilSpeq submodule for specifying behaviour

`tests/` - contains AST of program files in json format. Generated by `get_ast(_silq_folder).sh`

`SilVer.py` - contains SilVer class, which has the process for verifying Silq programs.

`JSONInterpreter.py` - handles converting Silq JSON files to internal representation.

`ObligationGenerator.py` - converts internal representation to Z3 obligations.

`tests.py` - contains some tests.

### Misc Files

`complex.py`, `ComplexVector.py` - files that allow generation of Complex variables for Z3 (expanded from [Z3Prover example](https://github.com/Z3Prover/z3/tree/master/examples/python/complex)).


`get_ast(_silq_folder).sh` - makes calls to Silq to generate json and store them in tests. Requires Silq binary from [this Silq fork](https://github.com/marco-lewis/silq/tree/ast-file).

`ClassicaMemory.py`, `Instruction.py`, `QuantumMemory.py`, `Process.py`, `Program.py`, `VarRef.py` - files relating to internal representation.

`MeasureOptions.py`, `QuantumOps.py`, `utils.py` - contains constants and useful functions.

`SilSpeqHandler.py`, `SpeqGenerator.py` - handles SilSpeq file reading and writing.

## Current Workflow

1. Add your Silq file to `Silq_Programs`
2. Run 

    `./get_ast.sh Silq_Programs/<your-program>`

    which will generate a json file (`<your-program>.json`) in the tests folder.

3. Create a Python file that creates a `SilVer` object and run:

    `silver.verify_func(<json-file-location>,<function-to-verify>)`
    
    On the first run a spq file will be created which can be used to specify behaviour using SilSpeq. When ran again, SilVer will verify the function specified.